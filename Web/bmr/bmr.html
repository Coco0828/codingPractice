<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <form id="BMR">
            <div class="mb-3" id="input_height">
                <label for="" class="form-label">身高（公分）：</label>
                <input type="text" class="form-control" name="height">
            </div>
            <div class="mb-3" id="input_weight">
                <label for="" class="form-label">體重（公斤）：</label>
                <input type="text" class="form-control" name="weight">
            </div>
            <div class="mb-3" id="input_age">
                <label for="" class="form-label">年紀：</label>
                <input type="text" class="form-control" name="age">
            </div>
            <div class="mb-3" id="input_gender">
                <label>性別：</label>
                <div class="form-check">
                    <label class="form-check-label" for="">
                        <input type="radio" id="male" name="gender" value=1>
                        男</label>
                </div>
                <div class="form-check">
                    <label class="form-check-label" for="">
                        <input type="radio" id="female" name="gender" value=0>
                        女</label>
                </div>
            </div>
            <div class="mb-3" id="input_activity">
                <label>活動程度</label>
                <select name="activity_level">
                    <option value="1.2">整天坐著、躺著(1.2)</option>
                    <option value="1.3">坐著工作, 沒有在運動(1.3)</option>
                    <option value="1.4">坐著工作, 輕微的運動(1.4)</option>
                    <option value="1.5">適度的體力工作, 沒有在運動(1.5)</option>
                    <option value="1.6">適度的體力工作, 輕微的運動(1.6)</option>
                    <option value="1.7">適度的體力工作, 劇烈的運動(1.7)</option>
                    <option value="1.8">繁重的工作/劇烈的運動(1.8)</option>
                    <option value="2.2">超過平均的體力工作/運動(2.0-2.4)</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary btn-lg btn-block" id = "btn" name="calculate">計算</button>

            <div class="mt-3" id="input_result">
                <label for="" class="form-label">基礎代謝率 BMR（大卡）：</label>
                <output id = "result"></output>
            </div>
            <div class="mt-3" id="input_result2">
                <label for="" class="form-label">一天總消耗熱量 TDEE（大卡）：</label>
                <output id = "result2"></output>
            </div>
        </form>
    </div>

    <style>
        #input_gender{
            display: flex;
        }
        #BMR {
            border: 3px ridge #9D9D9D;
            padding: 20px;
            width: 80%;
            margin: 0 auto;
            font-size: large;
        }
        #btn {
            background-color: rgb(34, 64, 161);
            color: rgb(255, 255, 255);
            width: 100%;
            margin: 10px 0px;

        }

    </style>

    <script>
        $(document).ready(function () {
            $("#BMR").submit(function (e) {
                e.preventDefault();
                var weight = $("[name='weight']").val();
                var height = $("[name='height']").val();
                var gender = $("[name='gender']").val();
                var age = $("[name='age']").val();
                var activity = $("[name='activity_level']").val();
                var bmr;
                var calories;
                if (weight > 0 && height > 0) {
                    if (gender == 0) {
                        bmr = Math.round((weight * 10) + (6.25 * height) - (5 * age) - 161);
                        calories = Math.round(bmr * activity);
                    } else {
                        bmr = Math.round((weight * 10) + (6.25 * height) - (5 * age) + 5);
                        calories = Math.round(bmr * activity);
                    }
                    $("#result").val(bmr);
                    $("#result2").val(calories);
                }
            });
        });
    </script>

</body>

</html>